import MDXImage from '../../components/MDXImage';
import image1 from '../../public/images/projects/michelle-mcquaid/michelle-mcquaid_image-compare.jpg';
import banner from '../../public/images/projects/michelle-mcquaid/michelle-mcquaid_banner.jpg';

<MDXImage
  src={banner}
  width={1140}
  aspectRatio="6/3"
  priority
  wide
  layout="responsive"
  alt=""
/>

My role in this project was to help migrate the Michelle Mcquaid website's front-end from a legacy site, that was on it's way to becoming depreciated by Wordpress, to Wordpress's more modern Gutenberg block based system.

Gutenberg blocks use React for making a block's editing tools used within Wordpress's editor. Frustratingly though it doesn't use React for the actual front facing website. An issue I will touch on later.

Gutenberg operates with blocks that make up various parts of a web page. They should be configurable in a way that lets them be reusable across the website. In this way they are very similar to a good React component.

The creation of these blocks was my job with the actual construction of the web pages and filling of content left for the content editors on the team.

<MDXImage
  src={image1}
  width={1140}
  aspectRatio="5/6"
  wide
  alt=""
  caption="An example of an empty block viewed from an editors perspective (top) and then with content added as viewed by a visitor to the website (bottom). "
/>

What this meant was that each block would need two versions made. The version that is displayed to visitors of the website and then the version that is shown within Wordpress's editor waiting for content and any customisations to be applied to the block's instances.

A notable benefit of the transition to Gutenberg was that it brought a significant improvement to page render speed. The old website was incredibly bloated and slow, taking up to 5,6 seconds for initial render and up to 10 seconds for a web page to complete its loading. Moving to Gutenberg dropped page render speed to well under a second.

However with the good comes the bad. A dichotomy that is disproportionate in just how frustrating Gutenberg can be to work with.

I'll dot point these out because there are a few of them.

- Code duplication due to blocks being written in React for the editor and again in CSS, HTML and Javascript on the front facing site.
- The reliance on the theme.json file for defining styles, a file that becomes enormous becoming a pain to edit.
- Incomplete documentation. I'd frequently have to trawl through wordpress's git repos to find the functions and components I needed.
- Wordpress's methodology that block updates should be opt-in per block instance rather than propagating to all instances of the block being used across the site. A maintenance nightmare.
- The mixing of SASS in some circumstances and CSS in others. Of JSX in some circumstances and HTML + JS in others.
